# TasteBud Recommendation System Configuration

## Server Configuration
server:
  host: "0.0.0.0"
  port: 8010
  debug: false
  allowed_origins:
    - "*"

## Database Configuration
database:
  url: "${TASTEBUD_DATABASE_URL}"

## OpenAI Configuration
openai:
  api_key: "${OPENAI_API_KEY}"
  model: "gpt-5-mini"

## JWT Configuration
jwt:
  secret_key: "${JWT_SECRET_KEY}"
  algorithm: "HS256"
  access_token_expire_minutes: 60
  refresh_token_expire_days: 30

## OTP Configuration
otp:
  expire_minutes: 10
  max_attempts: 3

## Onboarding Configuration
onboarding:
  max_questions: 7
  early_stop_confidence: 0.8
  k: 0.1
  sigma_step: 0.12

## Recommendation Weights
recommendation:
  # Cuisine affinity weight
  lambda_cuisine: 0.2
  
  # Popularity weight
  lambda_pop: 0.2
  
  # MMR diversity parameter
  mmr_alpha: 0.7
  
  # GPT confidence discount
  gpt_confidence_discount: 0.3
  
  # Exploration coefficient (Phase 1.4)
  exploration_coefficient: 0.2

## Temporal Decay Configuration
temporal_decay:
  # Feedback half-life in days (Phase 1.5)
  feedback_half_life_days: 21
  
  # Popularity decay half-life in days
  decay_half_life_days: 30

## FAISS Configuration
faiss:
  index_path: "data/faiss_indexes/"
  dimension: 1536
  
  # Index maintenance (Phase 5.1)
  maintenance:
    enabled: true
    interval_hours: 24
    max_age_hours: 24

## Query-Based Recommendations (Phase 3)
query:
  # Candidates multiplier for retrieval
  retrieval_candidates_multiplier: 3
  
  # Default diversity weight for MMR
  default_diversity_weight: 0.3
  
  # Cross-encoder reranking
  enable_cross_encoder: false
  cross_encoder_model: "cross-encoder/ms-marco-MiniLM-L-6-v2"

## MMR Diversity (Phase 3)
mmr:
  # Default diversity weight
  default_diversity_weight: 0.3
  
  # Slot-based constraints (null = no limit)
  max_items_per_cuisine: null
  max_items_per_restaurant: null

## Explanations & Evaluation (Phase 4)
explanations:
  # Use LLM-first approach for explanations
  use_llm_first: true
  
  # Max history items to include in context
  max_history_items: 5

evaluation:
  # Minimum samples for A/B test
  min_ab_test_samples: 30
  
  # Default time period for metrics in days
  default_time_period_days: 30

## Observability (Phase 5.2)
observability:
  # Enable Prometheus metrics
  enable_prometheus: false
  
  # Log level
  log_level: "INFO"
  
  # Enable request timing logging
  enable_request_timing: true

## Frontend Configuration
frontend:
  url: "http://localhost:5173"
